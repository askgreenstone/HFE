<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width,height=device-height,user-scalable=no,initial-scale=1">
    <meta name="x5-orientation" content="portrait">
    <title>播放测试页面</title>
    <link rel="stylesheet" href="http://g.alicdn.com/de/prismplayer/1.5.2/skins/default/index.css" />
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
    <script type="text/javascript" src="js/ali.js"></script>
    <style type="text/css">
        *{
            margin: 0;
            padding: 0;
        }
        html,body{
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        .parent{
            width: 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
        }
        
        .mark{
            width: 100%;
            height: 100%;
            position: absolute;
            z-index: 1;
        }
        .mark img{
            width: 50px;
            height: 50px;
            position: absolute;
            left: 50%;
            top: 50%;
            margin-left: -25px;
            margin-top: -25px;
        }
        .child{
            width: 100%;
            height: 30px;
            position: absolute;
            left: 0;
            bottom: 10px;
            display: none;
            background: rgba(255,255,255,0.5);
        }
        .input{
            width: 80%;
            height: 30px;
            padding: 2px 5% 5px;
            box-sizing: border-box;
        }
        input{
            width: 100%;
            height: 20px;
            line-height: 20px;
            border: none;
            outline: none;
            -webkit-tap-highlight-color: transparent;
            background: transparent;
        }
        .span{
            width: 20%;
            height: 30px;
            line-height: 30px;
            padding: 5px 0;
            box-sizing: border-box;
        }
        span{
            width: 100%;
            height: 20px;
            line-height: 20px;
            text-align: center;
            border-left: 1px solid #ccc;
            display: block;
            color: #d74218;
        }
    </style>
</head>
<body>
<div class="parent">
    <div class="mark"><img src="image/zan.png"></div>
    <div id="J_prismPlayer" class="prism-player"></div>
    <div class="child">
        <div class="input"><input type="text" name=""></div>
        <div class="span"><span>发送</span></div>
    </div>
</div>

<!-- prism-player为h5播放器皮肤的钩子类名，请务必加上  -->
<script>
    // 初始化播放器
    // 2月16日直播测试
    // http://live.green-stone.cn/gstone/liveIOS.m3u8
    // http://live.green-stone.cn/gstone/livee166131415.m3u8
    $('.mark').on('click', function(event) {
        event.preventDefault();
        $(this).hide()
        var player = new prismplayer({
            id: "J_prismPlayer", // 容器id
            source: "http://videolive.green-stone.cn/video/livee165832311.m3u8",// 视频地址
            autoplay: true,    //自动播放：否
            width: "100%",       // 播放器宽度
            height: "100%",      // 播放器高度
            skinLayout: [                            // false | Array, 播放器使用的ui组件，非必填，不传使用默认，传false或[]整体隐藏
                {name:"bigPlayButton", align:"cc", x:30, y:80},
                {name:"controlBar", align:"blabs", x:0, y:0,
                    children: [
                        {name:"progress", align:"tlabs", x: 0, y:0},
                        {name:"playButton", align:"tl", x:15, y:26},
                        {name:"timeDisplay", align:"tl", x:10, y:24},
                        {name:"fullScreenButton", align:"tr", x:20, y:25},
                        {name:"volume", align:"tr", x:20, y:25}
                    ]
                }
              ]
        });
        // http://videolive.green-stone.cn/video/livee165831392.m3u8
        setTimeout(function(){
            player.play();
        },300)
        // $('.child').css('display','-webkit-box');
    });
    $('input').on('click', function () {
        var target = this;
        // 使用定时器是为了让输入框上滑时更加自然
        var u = navigator.userAgent, 
        app = navigator.appVersion;
        var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);
        if(isiOS){
            setTimeout(function(){
                target.scrollIntoView(true);
            },300);
        }
        
    });
</script>
</body> 